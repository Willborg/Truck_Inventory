<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pre-Trip Inspection</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>

<body>
  <header>
    <h1>Pre-Trip Inspection</h1>
    <p id="last-saved">Last saved: never</p>
  </header>

  <main>
    <section id="truck-layout">
      <h2>Pre-Trip Inspection</h2>

      <!-- Main Truck Zones -->
      <div class="zone" data-zone="front_truck">
        <h3>Front of Truck</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="back_truck">
        <h3>Back of Truck</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="front_seat">
        <h3>Front Seat</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="back_seat">
        <h3>Back Seat</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="engine">
        <h3>Engine</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="fuel">
        <h3>Fuel</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="job_box_1">
        <h3>Job Box 1 (Left Bed)</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="job_box_2">
        <h3>Job Box 2 (Right Bed)</h3>
        <ul></ul>
      </div>

      <!-- Auxiliary Kit Zones -->
      <div class="zone" data-zone="ppe_kit">
        <h3>PPE Kit</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="spc_kit">
        <h3>SPC Kit</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="maintenance_kit">
        <h3>Maintenance Kit</h3>
        <ul></ul>
      </div>
      <div class="zone" data-zone="mc4_kit">
        <h3>MC4 Kit</h3>
        <ul></ul>
      </div>
    </section>

    <section id="truck-visual" aria-label="Truck visualization">
      <div class="truck-stack">
        <!-- PNG background -->
        <div class="truck-bg" aria-hidden="true"></div>

        <!-- SVG overlay for zones - NON-OVERLAPPING DESIGN -->
        <svg class="truck-overlay" viewBox="0 0 1000 1600" xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="xMidYMid meet">
          <g id="viz-zones">
            <!-- Front of truck (cab + hood area) -->
            <rect id="zone-front" class="viz-zone" x="120" y="40" width="760" height="300" rx="40" ry="40" />

            <!-- Engine (small callout in hood) -->
            <rect id="zone-engine" class="viz-zone" x="400" y="100" width="200" height="100" rx="30" ry="30" />

            <!-- Front seat area -->
            <rect id="zone-seat-front" class="viz-zone" x="280" y="380" width="440" height="130" rx="18" ry="18" />

            <!-- Back seat area -->
            <rect id="zone-seat-back" class="viz-zone" x="280" y="540" width="440" height="90" rx="18" ry="18" />

            <!-- Back of truck (center bed area, excluding job boxes) -->
            <rect id="zone-back" class="viz-zone" x="370" y="680" width="260" height="480" rx="20" ry="20" />

            <!-- Left job box -->
            <rect id="zone-job-left" class="viz-zone" x="190" y="700" width="160" height="460" rx="18" ry="18" />

            <!-- Right job box -->
            <rect id="zone-job-right" class="viz-zone" x="650" y="700" width="160" height="460" rx="18" ry="18" />

            <!-- Fuel area -->
            <rect id="zone-fuel" class="viz-zone" x="210" y="1320" width="160" height="120" rx="16" ry="16" />

            <!-- Auxiliary kit zones (dedicated spaces around the truck) -->
            <rect id="zone-aux-1" class="viz-zone" x="50" y="400" width="120" height="120" rx="15" ry="15" />
            <rect id="zone-aux-2" class="viz-zone" x="830" y="400" width="120" height="120" rx="15" ry="15" />
            <rect id="zone-aux-3" class="viz-zone" x="50" y="800" width="120" height="120" rx="15" ry="15" />
            <rect id="zone-aux-4" class="viz-zone" x="830" y="800" width="120" height="120" rx="15" ry="15" />
          </g>
        </svg>
      </div>
    </section>

    <aside>
      <h2>Auxiliary Kits</h2>
      <button onclick="toggleKit('ppe_kit')">Toggle PPE Kit</button>
      <button onclick="toggleKit('spc_kit')">Toggle SPC Kit</button>
      <button onclick="toggleKit('maintenance_kit')">Toggle Maintenance Kit</button>
      <button onclick="toggleKit('mc4_kit')">Toggle MC4 Kit</button>
    </aside>
  </main>

  <footer>
    <button onclick="resetChecklist()">Reset Checklist</button>
  </footer>

  <script src="script.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
</body>

</html>
